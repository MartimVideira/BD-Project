type        name                                             tbl_name                         rootpage    sql                                                                                                                                                                                                                                                                                                                                                                   
----------  -----------------------------------------------  -------------------------------  ----------  --------------------------------------------------------------------------------------------------------------------                                                                                                                                                                                                                                                  
trigger     inserting_in_view_1_raises_if_team_doesnt_exist  participation_results_by2_teams  0           CREATE TRIGGER inserting_in_view_1_raises_if_team_doesnt_exist 
INSTEAD OF INSERT ON participation_results_by2_teams 
FOR EACH ROW
BEGIN 
    SELECT 
        raise(ABORT,'Pelo Menos uma equipa inserida nao existe!!') 
    WHERE (2 > (select COUNT(TEAMID) 
                FROM Team 
                WHERE (Team.teamId=new.T1Id OR Team.teamId=new.T2Id)));
END
trigger     inserting_in_view_2_creates_match_if_doesnt_exi  participation_results_by2_teams  0           CREATE TRIGGER inserting_in_view_2_creates_match_if_doesnt_exist
INSTEAD  OF  INSERT ON participation_results_by2_teams
FOR EACH ROW
WHEN NOT exists(select * FROM MATCH WHERE Match.matchId = new.matchId)
BEGIN
    INSERT INTO MATCH(MATCHID,STARTTIME,DURATION,ADDRESSID,GAMEID) VALUES 
        (new.matchId,'09:30','00:45',1,1);    
    
END                  
trigger     inserting_in_view_3_inserts_into_participation   participation_results_by2_teams  0           CREATE TRIGGER inserting_in_view_3_inserts_into_participation
INSTEAD OF INSERT ON participation_results_by2_teams 
FOR EACH ROW 
BEGIN
    INSERT INTO Participation VALUES 
        (new.T1Id,new.matchId,new.T1Result),
        (new.T2Id,new.matchId,new.T2Result);
END                                                                                           
